<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mainframe File Directory</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
/* CRT GLOBAL THEME */
body {
    background:#000;
    color:#00ff66;
    font-family:"Courier New", monospace;
    margin:0;
    padding:20px;
    text-shadow:0 0 6px rgba(0,255,102,0.6);
    animation:flicker 0.18s infinite;
}

/* Flicker effect */
@keyframes flicker {
    0% { opacity:1; }
    50% { opacity:0.94; }
    100% { opacity:1; }
}

/* Scanlines */
.scanlines {
    pointer-events:none;
    position:fixed;
    inset:0;
    background:repeating-linear-gradient(
        to bottom,
        rgba(0,255,0,0.12),
        rgba(0,255,0,0.12) 1px,
        transparent 1px,
        transparent 3px
    );
    opacity:0.16;
    z-index:999;
    mix-blend-mode:screen;
}

/* Header */
h1 {
    text-align:center;
    text-transform:uppercase;
    letter-spacing:3px;
    margin-bottom:25px;
}

/* Table-style list */
.file-list {
    width:100%;
    max-width:650px;
    margin:0 auto;
    border:1px solid #00ff66;
    border-radius:6px;
    padding:15px;
    background:rgba(0,20,0,0.5);
}

.file-entry {
    padding:12px 0;
    border-bottom:1px solid #004d1a;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.file-entry:last-child {
    border-bottom:none;
}

button {
    background:#00ff66;
    border:none;
    color:#001100;
    padding:6px 12px;
    border-radius:4px;
    cursor:pointer;
    font-weight:bold;
    letter-spacing:1px;
    margin-left:10px;
}
button:hover {
    background:#00e657;
}

/* Console */
.console {
    width:100%;
    max-width:650px;
    margin:20px auto;
    border:1px solid #00ff66;
    background:rgba(0,20,0,0.35);
    padding:15px;
    height:150px;
    overflow-y:auto;
    border-radius:6px;
}
.console-line { margin-bottom:6px; }
.tag { color:#00ffaa; }

/* ---------- TOP BAR CRT STYLE ---------- */
.top-bar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 52px;
    background: rgba(0,20,0,0.85);
    border-bottom: 1px solid #00ff66;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 18px;
    z-index: 9999;
    backdrop-filter: blur(3px);
    text-shadow: 0 0 6px rgba(0,255,102,0.6);
}

/* Navigation buttons */
.top-left {
    display: flex;
    gap: 12px;
}

.top-btn {
    color: #00ff66;
    font-family: "Courier New", monospace;
    padding: 6px 12px;
    border: 1px solid #00ff66;
    border-radius: 4px;
    text-decoration: none;
    letter-spacing: 1px;
    font-size: 14px;
    transition: 0.15s;
}

.top-btn:hover, .top-btn.active {
    background: #00ff66;
    color: #001900;
    box-shadow: 0 0 12px #00ff66;
}

/* Countdown timer */
.top-timer {
    font-family: "Courier New", monospace;
    font-size: 16px;
    color: #00ff66;
    padding: 6px 12px;
    border: 1px solid #00ff66;
    border-radius: 4px;
     margin-right: 20px;
}

/* Push page content DOWN below the bar */
body {
    padding-top: 60px !important;
}

</style>
</head>
<body>

    <div class="top-bar">
    <div class="top-left">
        <a href="index.html" class="top-btn">HOME</a>
        <a href="task1.html" class="top-btn">TASK 1</a>
        <a href="chore2.html" class="top-btn">TASK 2</a>
    </div>

    <div id="global-timer" class="top-timer">Loading...</div>
</div>

<div class="scanlines"></div>

<h1>MAINFRAME FILE DIRECTORY</h1>

<div class="file-list">

    <!-- UNPROTECTED PDF -->
    <div class="file-entry">
        <span>PDF 1</span>
        <div>
            <button onclick="viewFile('1.pdf')">VIEW</button>
            <button onclick="downloadFile('1.pdf')">DOWNLOAD</button>
        </div>
    </div>

    <!-- PROTECTED PDF -->
    <div class="file-entry">
        <span>PDF 2</span>
        <div>
            <button onclick="viewFile('2.pdf')">VIEW</button>
            <button onclick="downloadFile('2.pdf')">DOWNLOAD</button>
        </div>
    </div>

    <!-- PROTECTED PDF -->
    <div class="file-entry">
        <span>PDF 3</span>
        <div>
            <button onclick="viewFile('3.pdf')">VIEW</button>
            <button onclick="downloadFile('3.pdf')">DOWNLOAD</button>
        </div>
    </div>



</div>

<div class="console" id="console">
    <div class="console-line"><span class="tag">[SYS]</span> Directory interface loaded…</div>
</div>
I

<script>
const COUNTDOWN_MINUTES = 20;

function initGlobalCountdown() {
    let endTime = localStorage.getItem("game_end_time");

    if (!endTime) {
        endTime = Date.now() + COUNTDOWN_MINUTES * 60 * 1000;
        localStorage.setItem("game_end_time", endTime);
    }

    endTime = parseInt(endTime);
    const timerEl = document.getElementById("global-timer");

    function updateTimer() {
        const now = Date.now();
        let diff = endTime - now;

        if (diff <= 0) {
            timerEl.innerHTML = "⛔ TIME OVER";
            return;
        }

        const m = Math.floor(diff / 1000 / 60);
        const s = Math.floor(diff / 1000) % 60;

        timerEl.innerHTML = `${m}:${s.toString().padStart(2, '0')}`;
    }

    updateTimer();
    setInterval(updateTimer, 1000);
}

initGlobalCountdown();
</script>

<script>

    
function push(text){
    const c = document.getElementById("console");
    let d = document.createElement("div");
    d.className="console-line";
    d.innerHTML=text;
    c.appendChild(d);
    c.scrollTop = c.scrollHeight;
}
const c = document.getElementById("console");
    setTimeout(() => {
        const el = document.createElement("div");
        el.className = "console-line";
        el.innerHTML = "<span class='tag'>[BIGBOSS]</span>Fill Spaces upto 6 charecters";
        c.appendChild(el);
        c.scrollTop = c.scrollHeight;
    }, 1800);
        const d = document.getElementById("console");
    setTimeout(() => {
        const el = document.createElement("div");
        el.className = "console-line";
        el.innerHTML = "<span class='tag'>[BIGBOSS]</span>Think out of the box to get the passwords";
        c.appendChild(el);
        c.scrollTop = c.scrollHeight;
    }, 2800);

            const d = document.getElementById("console");
    setTimeout(() => {
        const el = document.createElement("div");
        el.className = "console-line";
        el.innerHTML = "<span class='tag'>[BIGBOSS]</span>If you get only 3 letters then repead one letter and add two spaces at end to get 6 charecters";
        c.appendChild(el);
        c.scrollTop = c.scrollHeight;
    }, 5000);

function viewFile(file) {
    push("<span class='tag'>[OPEN]</span> Opening " + file + "… ( Find 7 digit numeric and 6 digit alphanumeric password");
    window.open(file, "_blank");
}

function downloadFile(file) {
    push("<span class='tag'>[DL]</span> Downloading " + file + "…");
    const a = document.createElement("a");
    a.href = file;
    a.download = file;
    a.click();
}

function unlockProtected(file, pass){
    let userPass = prompt("Enter PDF Password:");
    if(userPass === pass){
        push("<span class='tag'>[AUTH]</span> Password accepted. Opening " + file + "…");
        setTimeout(()=> window.open(file, "_blank"), 700);
    } else {
        push("<span class='tag'>[DENIED]</span> Incorrect password for " + file);
    }
}

function unlockProtectedDL(file, pass){
    let userPass = prompt("Enter PDF Password:");
    if(userPass === pass){
        push("<span class='tag'>[AUTH]</span> Password accepted. Downloading " + file + "…");
        const a = document.createElement("a");
        a.href = file;
        a.download = file;
        setTimeout(()=> a.click(), 700);
    } else {
        push("<span class='tag'>[DENIED]</span> Incorrect password for " + file);
    }
}
</script>

</body>
</html>
