<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CHORE 2 // QR EXTRACTION NODE</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
/* ---------- CRT GLOBAL THEMING ---------- */
body {
    background: #000;
    color: #00ff66;
    font-family: "Courier New", monospace;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    text-shadow: 0 0 6px rgba(0,255,102,0.6);
}

/* Scanline overlay */
.scanlines {
    pointer-events: none;
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
        to bottom,
        rgba(0,255,0,0.12),
        rgba(0,255,0,0.12) 1px,
        transparent 1px,
        transparent 3px
    );
    z-index: 999;
    opacity: 0.15;
    mix-blend-mode: screen;
}

/* Flicker effect */
@keyframes flicker {
    0% { opacity: 1; }
    50% { opacity: 0.94; }
    100% { opacity: 1; }
}
body { animation: flicker 0.18s infinite; }

/* Title */
h1 {
    text-align: center;
    font-size: 1.5rem;
    margin-top: 40px;
    text-transform: uppercase;
    letter-spacing: 3px;
}

/* Panel box */
.panel {
    width: min(92%, 600px);
    margin: 0 auto;
    border: 2px solid #00ff66;
    padding: 22px;
    margin-top: 30px;
    border-radius: 6px;
}

/* QR Container */
.qr-box {
    width: 100%;
    padding: 15px;
    padding-right: 0px;
    border: 1px dashed #00ff66;
    text-align: center;
    margin-top: 10px;
    margin-bottom: 20px;
    border-radius: 6px;
}

.qr-box img {
    width: 240px;
    max-width: 80%;
    filter: drop-shadow(0 0 10px #00ff66);
}

/* Button */
.btn {
    width: 100%;
    padding: 12px;
    padding-right: 0px;
    text-align: center;
    background: #00ff66;
    color: #003300;
    text-decoration: none;
    display: block;
    font-weight: bold;
    border-radius: 4px;
    letter-spacing: 2px;
    margin-top: 20px;
    box-shadow: 0 0 12px rgba(0,255,102,0.6);
}

.btn:hover { background: #00cc55; }

/* Console */
.console {
    background: rgba(0,20,0,0.55);
    border: 1px solid #00ff66;
    padding: 12px;
    padding-right: 0px;
    height: 150px;
    overflow-y: auto;
    margin-top: 22px;
    border-radius: 6px;
}

/* ---------- TOP BAR CRT STYLE ---------- */
.top-bar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 52px;
    background: rgba(0,20,0,0.85);
    border-bottom: 1px solid #00ff66;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 18px;
    z-index: 9999;
    backdrop-filter: blur(3px);
    text-shadow: 0 0 6px rgba(0,255,102,0.6);
}

/* Navigation buttons */
.top-left {
    display: flex;
    gap: 12px;
}

.top-btn {
    color: #00ff66;
    font-family: "Courier New", monospace;
    padding: 6px 12px;
    border: 1px solid #00ff66;
    border-radius: 4px;
    text-decoration: none;
    letter-spacing: 1px;
    font-size: 14px;
    transition: 0.15s;
}

.top-btn:hover, .top-btn.active {
    background: #00ff66;
    color: #001900;
    box-shadow: 0 0 12px #00ff66;
}

/* Countdown timer */
.top-timer {
    font-family: "Courier New", monospace;
    font-size: 16px;
    color: #00ff66;
    padding: 6px 12px;
    border: 1px solid #00ff66;
    border-radius: 4px;
    margin-right: 20px;
}

/* Push page content DOWN below the bar */
body {
    padding-top: 60px !important;
}



.console-line { margin-bottom: 6px; }
.tag { color: #00ffaa; }
</style>
</head>
<body>
<div class="top-bar">
    <div class="top-left">
        <a href="index.html" class="top-btn">HOME</a>
        <a href="task1.html" class="top-btn">TASK 1</a>
    </div>

    <div id="global-timer" class="top-timer">Loading...</div>
</div>



<div class="scanlines"></div>

<h1>TASK 4 // QR EXTRACTION NODE</h1>

<div class="panel">

    <p>
        The Instagram clue has led you here.<br>
        Your next fragment is unlocked<br><br>
        <strong>Scan the QR code</strong>
    </p>

    <div class="qr-box">
        <img src="qr_task2.png" alt="QR Code">
       <!--  <p style="opacity:0.7;">(Use your device camera to scan OR click 'Process Scan')</p>-->
    </div>

   <!--  <a id="scanBtn" class="btn">PROCESS SCAN</a>-->

    <div class="console" id="console">
        <div class="console-line"><span class="tag">[SYS]</span> Standing by for QR scan...</div>
    </div>
</div>

H
<!-- Hidden FLAG letter for final code -->
<!-- FLAG: H -->
<script>
// Countdown duration (in minutes)
const COUNTDOWN_MINUTES = 20;

function initGlobalCountdown() {
    let endTime = localStorage.getItem("game_end_time");

    // If no countdown has been created, create it now
    if (!endTime) {
        endTime = Date.now() + COUNTDOWN_MINUTES * 60 * 1000;
        localStorage.setItem("game_end_time", endTime);
    }

    endTime = parseInt(endTime);

    const timerEl = document.getElementById("global-timer");

    function updateTimer() {
        const now = Date.now();
        let diff = endTime - now;

        if (diff <= 0) {
            timerEl.innerHTML = "â›” TIME OVER";
            // Optional: redirect to a game-over page
            // window.location.href = "gameover.html";
            return;
        }

        const m = Math.floor(diff / 1000 / 60);
        const s = Math.floor(diff / 1000) % 60;

        timerEl.innerHTML = `${m}:${s.toString().padStart(2, '0')}`;
    }

    updateTimer();
    setInterval(updateTimer, 1000);
}

initGlobalCountdown();
</script>

<script>
const c = document.getElementById("console");

        standbyLoop = setInterval(() => {
setTimeout(() => {
        const el = document.createElement("div");
        el.className = "console-line";
        el.innerHTML = "<span class='tag'>[SYS]</span> Waiting for image scan...";
        c.appendChild(el);
        c.scrollTop = c.scrollHeight;
    }, 3800);
        const f = document.getElementById("console");
    setTimeout(() => {
        const el = document.createElement("div");
        el.className = "console-line";
        el.innerHTML = "<span class='tag'>[SYS]</span> Standing by for your operation...";
        c.appendChild(el);
        c.scrollTop = c.scrollHeight;
    }, 4800);
    }, 4000); // every 4 seconds
</script>

</body>
</html>
