<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>TASK 1 // RIDDLE GRID</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        /* ----------- CRT GLOBAL -------------- */
        body {
            background: #000;
            color: #00ff66;
            font-family: "Courier New", monospace;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            text-shadow: 0 0 6px rgba(0, 255, 102, 0.6);
        }

        .scanlines {
            pointer-events: none;
            position: fixed;
            inset: 0;
            background: repeating-linear-gradient(to bottom,
                    rgba(0, 255, 0, 0.12),
                    rgba(0, 255, 0, 0.12) 1px,
                    transparent 1px,
                    transparent 3px);
            z-index: 999;
            opacity: 0.15;
            mix-blend-mode: screen;
        }

        /* Title */
        h1 {
            text-align: center;
            font-size: 1.4rem;
            margin-top: 40px;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        /* Panel */
        .panel {
            width: min(94%, 650px);
            margin: 0 auto;
            border: 2px solid #00ff66;
            padding: 20px;
            margin-top: 20px;
            border-radius: 6px;
        }

        /* Riddle Box */
        .riddle {
            margin-bottom: 20px;
        }

        input {
            width: 100%;
            padding: 10px;
            padding-right: 0px;
            background: rgba(0, 20, 0, 0.6);
            border: 1px solid #00ff66;
            color: #00ff66;
            margin-top: 8px;
            font-size: 1rem;
            font-family: inherit;
        }

        /* Button */
        #submitGrid {
            width: 100%;
            padding: 12px;
            margin-top: 18px;
            background: #00ff66;
            color: #003300;
            border: none;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 1rem;
            letter-spacing: 2px;
            border-radius: 4px;
            cursor: pointer;
            box-shadow: 0 0 12px rgba(0, 255, 102, 0.6);
        }

        #submitGrid:hover {
            background: #00cc55;
        }

        /* Console */
        .console {
            background: rgba(0, 20, 0, 0.55);
            border: 1px solid #00ff66;
            padding: 12px;
            height: 170px;
            overflow-y: auto;
            margin-top: 22px;
            border-radius: 6px;
        }

        .console-line {
            margin-bottom: 6px;
        }

        .tag {
            color: #00ffaa;
        }

        .warning {
            color: #ff5f5f;
        }

        /* ---------- TOP BAR CRT STYLE ---------- */
.top-bar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 52px;
    background: rgba(0,20,0,0.85);
    border-bottom: 1px solid #00ff66;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 18px;
    z-index: 9999;
    backdrop-filter: blur(3px);
    text-shadow: 0 0 6px rgba(0,255,102,0.6);
}

/* Navigation buttons */
.top-left {
    display: flex;
    gap: 12px;
}

.top-btn {
    color: #00ff66;
    font-family: "Courier New", monospace;
    padding: 6px 12px;
    border: 1px solid #00ff66;
    border-radius: 4px;
    text-decoration: none;
    letter-spacing: 1px;
    font-size: 14px;
    transition: 0.15s;
}

.top-btn:hover, .top-btn.active {
    background: #00ff66;
    color: #001900;
    box-shadow: 0 0 12px #00ff66;
}

/* Countdown timer */
.top-timer {
    font-family: "Courier New", monospace;
    font-size: 16px;
    color: #00ff66;
    padding: 6px 12px;
    border: 1px solid #00ff66;
    border-radius: 4px;
    margin-right: 20px;
}

/* Push page content DOWN below the bar */
body {
    padding-top: 60px !important;
}

    </style>
</head>

<body>
<div class="top-bar">
    <div class="top-left">
        <a href="index.html" class="top-btn">HOME</a>
    </div>

    <div id="global-timer" class="top-timer">Loading...</div>
</div>

    <div class="scanlines"></div>

    <h1>TASK 1 // RIDDLE GRID</h1>

    <div class="panel">
        <p>
            Decode all 9 riddles. Each correct answer gives you a letter.
            shuffle and combine the <strong>first letters</strong> of all answers to form the final command.
        </p>

        <!-- RIDDLES -->

        <div class="riddle">
            1. “I connect people across the world, yet I have no body.
            I’m full of sites, but I’m not a city. What am I?”
            <input id="r1" placeholder="Answer">
        </div>

        <div class="riddle">
            2. “You can see me on screens and measure me in hours,
            but you can never hold me. I only move forward. What am I?”
            <input id="r7" placeholder="Answer">

        </div>

        <div class="riddle">
            3. “I have a face and hands but no arms or legs.
            I tell you something that never stops. What am I?”
            <input id="r6" placeholder="Answer">

        </div>

        <div class="riddle">
            4. “I’m a secret you type. I open doors you cannot see.
            Share me and you lose me. What am I?”
            <input id="r4" placeholder="Answer">
        </div>

        <div class="riddle">
            5. “I repeat what you say but have no mouth.
            I live in caves and empty rooms. What am I?”
            <input id="r5" placeholder="Answer">
        </div>

        <div class="riddle">
            6. “I’m used to call you long before people truly know you.
            I can be given, stolen, or changed. What am I?”
            <input id="r2" placeholder="Answer">
        </div>

        <div class="riddle">
            7. “I’m usually found at the end of a hall or a game.
            You choose me when you want to leave. What am I?”
            <input id="r9" placeholder="Answer">

        </div>

        <div class="riddle">
            8. “I have cities but no people, roads but no cars, rivers but no water. What am I?”
            <input id="r8" placeholder="Answer">
        </div>

        <div class="riddle">
            9. “I follow you by day but vanish at night.
            I copy your shape but never your color. What am I?”
            <input id="r3" placeholder="Answer">

        </div>

        <!-- SUBMIT -->
        <button id="submitGrid">Submit Answers</button>

        <!-- Console -->
        <div class="console" id="console">
            <div class="console-line"><span class="tag">[SYS]</span> Awaiting riddle solutions…</div>
        </div>
    </div>
    A

    <!-- Hidden bigboss flag for final 5-letter code -->
    <!-- FLAG: S -->
<script>
// Countdown duration (in minutes)
const COUNTDOWN_MINUTES = 20;

function initGlobalCountdown() {
    let endTime = localStorage.getItem("game_end_time");

    // If no countdown has been created, create it now
    if (!endTime) {
        endTime = Date.now() + COUNTDOWN_MINUTES * 60 * 1000;
        localStorage.setItem("game_end_time", endTime);
    }

    endTime = parseInt(endTime);

    const timerEl = document.getElementById("global-timer");

    function updateTimer() {
        const now = Date.now();
        let diff = endTime - now;

        if (diff <= 0) {
            timerEl.innerHTML = "⛔ TIME OVER";
            // Optional: redirect to a game-over page
            // window.location.href = "gameover.html";
            return;
        }

        const m = Math.floor(diff / 1000 / 60);
        const s = Math.floor(diff / 1000) % 60;

        timerEl.innerHTML = `${m}:${s.toString().padStart(2, '0')}`;
    }

    updateTimer();
    setInterval(updateTimer, 1000);
}

initGlobalCountdown();
</script>

    <script>
        
        const answers = [
            "internet",   // I
            "name",       // N
            "shadow",     // S
            "password",   // P
            "echo",       // E
            "clock",      // C
            "time",       // T
            "map",        // M
            "exit"        // E
        ];

        document.getElementById("submitGrid").addEventListener("click", () => {
            const consoleBox = document.getElementById("console");

            let letters = "";
            let score = 0;

            for (let i = 1; i <= 9; i++) {
                const inputValue = document.getElementById("r" + i).value.trim().toLowerCase();
                if (inputValue === answers[i - 1]) {
                    score++;
                    letters += answers[i - 1].charAt(0).toUpperCase();
                }
            }

            const line = document.createElement("div");
            line.className = "console-line";

            if (score === 9) {
                if (letters === "INSPECTME") {
                    line.innerHTML =
                        "<span class='tag'>[BIGBOSS]</span> All riddles validated. Override fragment unlocked.";

                    console.log("12.195921149493023, 75.80273113781234")
                    console.log("0.434556, 33.210447")
                    // Reveal coordinates + hint


                    setTimeout(() => {
                        const c1 = document.createElement('div');
                        c1.className = "console-line";
                        c1.innerHTML = "<span class='tag'>[HINT]</span> Use first letter of each of the words and get the next clue";
                        consoleBox.appendChild(c1);


                    }, 1000);
                    setTimeout(() => {
                        const c1 = document.createElement('div');
                        c1.className = "console-line";
                        c1.innerHTML = "<span class='tag'>[HINT]</span> Check all the TABS";
                        consoleBox.appendChild(c1);


                    }, 2000);

                    setTimeout(() => {


                        const hint = document.createElement('div');
                        hint.className = "console-line";
                        hint.innerHTML =
                            "<span class='tag'>[HINT]</span> Names belong to places. Places belong to people.";
                        consoleBox.appendChild(hint);



                    }, 3000);

                    setTimeout(() => {


                        const hint1 = document.createElement('div');
                        hint1.className = "console-line";
                        hint1.innerHTML =
                            "<span class='tag'>[HINT]</span> Think about a Social Media Platform";
                        consoleBox.appendChild(hint1);

                    }, 4000);


                } else {
                    line.innerHTML =
                        "<span class='tag'>[ERROR]</span> Riddles correct, but final command incorrect.";
                }
            } else {
                line.innerHTML =
                    "<span class='tag'>[ERROR]</span> " + (9 - score) + " riddles incorrect.";
            }

            consoleBox.appendChild(line);
            consoleBox.scrollTop = consoleBox.scrollHeight;
        });
    </script>

</body>

</html>
